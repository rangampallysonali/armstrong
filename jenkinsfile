pipeline {
    agent {
        docker {
            image 'maven:3.9.6-eclipse-temurin-17'
        }
    }
        stages{
            stage('Chekout'){
                steps {
                      git branch:'main',url:'https://github.com/rangampallysonali/armstrong'
                }
            }
            stage('Build'){
                steps {
                    sh '''
                       mvn clean compile
                        '''
                            }
            }
            stage('test') {
                steps {
                    sh '''
                        mvn test
                       '''
            }
            }
            stage('Package') {
                steps {
                        sh'mvn package'
                }
            }
            stage('Run') {
               steps {
                 sh 'java -jar target/armstrong-1.0-SNAPSHOT.jar'
            junit'**/target/surefire-reports/*.xml'
        }
   }
}
